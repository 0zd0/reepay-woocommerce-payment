if(wc&&wc.wcBlocksRegistry&&React&&wc_reepay){const e=new URL(document.currentScript.src).searchParams.get("name");if(!e)throw"Script "+document.currentScript.src+" - name is undefined";const{registerPaymentMethod:t}=wc.wcBlocksRegistry,{createElement:s,useEffect:n}=React,{useSelect:a,useDispatch:c}=wp.data,{__:o}=wp.i18n,{getSetting:r}=wc.wcSettings,{PAYMENT_STORE_KEY:i}=wc.wcBlocksData,{decodeEntities:l}=wp.htmlEntities,p=r(e+"_data",{}),u=l(p.title)||o("Reepay checkout","reepay-checkout-gateway"),d=s((()=>{const e=p.tokens.map((e=>s(m,e)));return e.push(s(m,{id:"new"})),s("ul",{className:"reepay-blocks-list"},...e)})),m=t=>{const{paymentMethodData:n}=a((e=>({paymentMethodData:e(i).getPaymentMethodData()}))),{__internalSetPaymentMethodData:r}=c(i),l=t.image?s("img",{src:t.image,image_alt:t.label}):null,p=`wc-${e}-payment-token`,u=s("input",{type:"radio",name:p,id:`${p}-${t.id}`,value:t.id,onChange:e=>{n[p]!==t&&(console.log(e.target.value),r({...n,[p]:e.target.value}))}}),d=s("label",{htmlFor:`wc-${e}-payment-token-${t.id}`},l,"new"===t.id?o("Use a new payment method","reepay-checkout-gateway"):`${t.masked} ${t.expiry_month}/${t.expiry_year}`);return s("li",{key:t.id,className:"reepay-blocks-list-item"},u,d)},y=s((e=>{const{eventRegistration:t,emitResponse:s}=e,{onPaymentProcessing:a,onCheckoutAfterProcessingWithSuccess:c,onCheckoutAfterProcessingWithError:o}=t;return n((()=>{const e=a((async e=>{console.log("onPaymentProcessing",e)})),t=c((async e=>{console.log("onCheckoutAfterProcessingWithSuccess",e);const{processingResponse:t}=e,{paymentDetails:s}=t;s.reepay_id&&s.accept_url&&wc_reepay.buildModalCheckout(s.reepay_id,s.accept_url)})),s=o((async e=>{console.log("onCheckoutAfterProcessingWithSuccess",e)}));return()=>{e(),t(),s()}}),[s.responseTypes.SUCCESS,s.responseTypes.ERROR,s.responseTypes.FAIL]),p.tokens?d:l(p.description||"")}),null),g=s((e=>{const{PaymentMethodLabel:t}=e.components;return s(t,{text:u})}),null);t({name:e,label:g,content:y,edit:y,savedTokenComponent:null,canMakePayment:()=>!0,ariaLabel:u,supports:{features:p.supports??[],showSavedCards:p.supports.includes("cards"),showSaveOption:p.supports.includes("cards")}})}
//# sourceMappingURL=woo-blocks.min.js.map
